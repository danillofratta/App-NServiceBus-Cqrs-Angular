"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7957],{27957:function(e,t,n){n.d(t,{GO:function(){return p},Gm:function(){return U},Kn:function(){return K},L8:function(){return Q},O3:function(){return f},Qs:function(){return m},Yc:function(){return h},bQ:function(){return y},dY:function(){return C},iR:function(){return T},u0:function(){return _}});var r=n(91014),u=n(89992),a=n(88075),i=n(65490),o=n(49793),l=n(26821),s=n(10751),c=n.n(s),d=n(7653),v=n(69602);let f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,a.t)(),{defer:n}=e,r=(0,v.U)(),i=null==t?void 0:t.uuid;return(0,u.WE)("/api/organizations/".concat(i,"/projects?include_harmony_projects=true"),{queryKey:[o.gi,{orgUuid:i}],enabled:!n&&!!(t&&r),staleTime:0,select:e=>e.filter(e=>!e.archived_at)})},y=()=>{let{data:e,isLoading:t}=f();return{data:null==e?void 0:e.filter(e=>e.is_starred),isLoading:t}},g=(e,t)=>{let n=e.map(e=>({...e,lastConversation:null==t?void 0:t.find(t=>t.project_uuid===e.uuid)})).filter(e=>e.lastConversation).sort((e,t)=>new Date(t.lastConversation.created_at).getTime()-new Date(e.lastConversation.created_at).getTime()),r=null==e?void 0:e.filter(e=>!n.find(t=>t.uuid===e.uuid));return[...n,...r]},p=()=>{let e=(0,r.QR)({defer:!0}),t=f({defer:!0});return(0,d.useCallback)(async()=>{var n,r,u;let[a,i]=await Promise.all([e.refetch(),t.refetch()]);return a.error||i.error?Promise.reject(null!==(n=a.error)&&void 0!==n?n:i.error):g(null!==(r=i.data)&&void 0!==r?r:[],null!==(u=a.data)&&void 0!==u?u:[])},[e,t])},_=()=>{let{data:e,isLoading:t}=(0,r.QR)(),{data:n,isLoading:u}=f();return(0,d.useMemo)(()=>t||u?{data:n,isLoading:!0}:n&&e?{data:g(n,e),isLoading:!1}:{data:n,isLoading:!1},[n,e,t,u])},h=e=>{let{activeOrganization:t}=(0,a.t)(),n=null==t?void 0:t.uuid;return(0,u.WE)("/api/organizations/".concat(n,"/projects/").concat(e),{queryKey:[o.$T,{orgUuid:n,projectUuid:e}],enabled:!!(t&&e),staleTime:0,meta:{noToast:e=>e instanceof i.Hx&&404===e.statusCode}})},m=()=>{let{activeOrganization:e}=(0,a.t)(),t=null==e?void 0:e.uuid,n=(0,l.useQueryClient)();return(0,u.uC)(()=>"/api/organizations/".concat(t,"/projects"),"POST",{onSuccess:()=>{n.invalidateQueries({queryKey:[o.gi,{orgUuid:t}]}),n.invalidateQueries({queryKey:[o.n$,{orgUuid:t}]})}})},C=e=>{let{activeOrganization:t}=(0,a.t)(),n=null==t?void 0:t.uuid,r=U();return(0,u.Ne)(()=>"/api/organizations/".concat(n,"/projects/").concat(e),"PUT",(e,t)=>t?{...t,...e}:void 0,{onSuccess:()=>{r(e)},queryKey:[o.$T,{orgUuid:n,projectUuid:e}]})},Q=e=>{let{activeOrganization:t}=(0,a.t)(),n=null==t?void 0:t.uuid,r=U();return(0,u.uC)(()=>"/api/organizations/".concat(n,"/projects/").concat(e),"DELETE",{onSuccess:()=>{r(e)}})},T=e=>{let{activeOrganization:t}=(0,a.t)(),n=null==t?void 0:t.uuid;return(0,u.WE)("/api/organizations/".concat(n,"/projects/").concat(e,"/conversations"),{queryKey:[o.lx,{orgUuid:n,projectUuid:e}],enabled:!!t,staleTime:0,select:e=>c()(e,e=>new Date(e.updated_at)).reverse()})},K=()=>{var e,t;let n=f(),r=null===(t=n.data)||void 0===t?void 0:null===(e=t.find(e=>e.is_starter_project))||void 0===e?void 0:e.uuid;return{...n,data:r}},U=()=>{let{activeOrganization:e}=(0,a.t)(),t=null==e?void 0:e.uuid,n=(0,l.useQueryClient)();return e=>{n.invalidateQueries({queryKey:[o.$T,{orgUuid:t,projectUuid:e}]}),n.invalidateQueries({queryKey:[o.gi,{orgUuid:t}]}),n.invalidateQueries({queryKey:[o.n$,{orgUuid:t}]}),n.invalidateQueries({queryKey:[o.lx,{orgUuid:t,projectUuid:e}]})}}},69602:function(e,t,n){n.d(t,{U:function(){return u}});var r=n(88075);let u=()=>{let e=(0,r.ZJ)();return(0,r.Cf)()||e}},91014:function(e,t,n){n.d(t,{$H:function(){return T},$Y:function(){return K},CJ:function(){return b},Cy:function(){return P},Gk:function(){return R},Ke:function(){return E},Ls:function(){return D},OD:function(){return O},PD:function(){return S},QR:function(){return C},Rq:function(){return h},W:function(){return x},_C:function(){return Q},cE:function(){return m},cj:function(){return $},f7:function(){return w},fc:function(){return M},gK:function(){return k},gm:function(){return q},j1:function(){return U},j7:function(){return I},jl:function(){return W},rI:function(){return z},y6:function(){return B}});var r=n(21468),u=n(89992),a=n(88075),i=n(17299),o=n(92068),l=n(49793),s=n(47859),c=n(71994),d=n(26821),v=n(63583),f=n(20053),y=n.n(f),g=n(67754),p=n(7653),_=n(52212);let h=e=>{let t=(0,d.useQueryClient)(),{activeOrganization:n}=(0,a.t)(),r=null==n?void 0:n.uuid,[u,i]=(0,p.useReducer)(e=>e+1,0),o=(0,s.B)([l.I8,{orgUUID:r},{uuid:e}]),c=(0,p.useMemo)(()=>t.getQueryData(o),[t,o,e,u]);return(0,p.useEffect)(()=>t.getQueryCache().subscribe(e=>{"updated"===e.type&&"success"===e.action.type&&(0,v._x)({queryKey:o},e.query)&&i()}),[t,i,o]),{data:c}},m=e=>{let t=(0,d.useQueryClient)(),{activeOrganization:n}=(0,a.t)(),r=null==n?void 0:n.uuid,u=(0,s.B)([l.I8,{orgUUID:r},{uuid:e}]);return t.getQueryData(u)},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,a.t)(),n=null==t?void 0:t.uuid,r=new URLSearchParams,{limit:i,offset:o,defer:s}=e;void 0!==i&&r.append("limit",i.toString()),void 0!==o&&r.append("offset",o.toString());let c=r.toString();return c=c?"?".concat(c):"",(0,u.WE)("/api/organizations/".concat(null!=n?n:"","/chat_conversations").concat(c),{queryKey:[l.tv,{orgUUID:n},{limit:i,offset:o}],staleTime:3e5,enabled:!s&&!!n})},Q=function(e){let{suppressError:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:n}=(0,a.t)(),r=null==n?void 0:n.uuid,i=(0,p.useRef)([]),o=(0,d.useQueryClient)(),s="/api/organizations/".concat(null!=r?r:"","/chat_conversations/").concat(e,"?tree=True&rendering_mode=messages&render_all_tools=true"),c=(0,u.WE)(s,{queryKey:[l.I8,{orgUUID:r},{uuid:e}],staleTime:3e5,enabled:!!r&&!!e,meta:{noToast:t}},t=>(o.invalidateQueries({queryKey:[l.Gj,{orgUUID:r,conversationUUID:e}]}),(0,_.fX)(t))),v=(0,p.useMemo)(()=>{if(!c.data)return i.current=[],i.current;let e=(0,_.kX)(c.data);if(e.length!==i.current.length||e.some((e,t)=>{var n;return e.uuid!==(null===(n=i.current[t])||void 0===n?void 0:n.uuid)}))return i.current=e,i.current;for(let t=0;t<e.length;t++)y()(e[t],i.current[t])||(i.current[t]=e[t]);return i.current},[c.data]);return{...c,currentPath:v}},T=(e,t)=>{let{mutate:n}=K(),r=(0,g.useRouter)(),u=t||(0,c.H)();return(0,p.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{model:void 0,controlsOpen:!1};n({uuid:u,name:"",model:t.model});let a="/chat/".concat(u).concat(t.controlsOpen?"?controls=1":"");r[e](a)},[n,r,e,u])},K=()=>{let{activeOrganization:e}=(0,a.t)(),t=null==e?void 0:e.uuid,n=(0,d.useQueryClient)(),r=[l.tv,{orgUUID:t}],i=e=>[l.ph,{orgUUID:t},{uuid:e}],o=e=>[l.I8,{orgUUID:t},{uuid:e}];return(0,u.uC)("/api/organizations/".concat(null!=t?t:"","/chat_conversations"),"POST",{enabled:!!t,async onMutate(e){let t=i(e.uuid),u={summary:"",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),...e};await Promise.all([n.cancelQueries({queryKey:r}),n.cancelQueries({queryKey:t})]),n.setQueryData(r,e=>e&&[u,...e]),n.setQueryData(t,e=>({...e||{},...u,chat_messages:(null==e?void 0:e.chat_messages)||[]}))},onSuccess:e=>{n.setQueryData(r,t=>{if(!t)return;let n=t.findIndex(t=>t.uuid===e.uuid);if(-1===n)return t;let r=[...t];return r.splice(n,1,e),r}),n.setQueryData(o(e.uuid),t=>({...t||{},...e,chat_messages:(null==t?void 0:t.chat_messages)||[],messageByUuid:new Map,parentByChildUuid:new Map,childrenByParentUuid:new Map,selectedChildByUuid:new Map})),L(n,t)},onError(e,t){n.setQueryData(r,e=>null==e?void 0:e.filter(e=>e.uuid!==t.uuid)),n.setQueryData(i(t.uuid),void 0)}})},U=()=>{let{activeOrganization:e}=(0,a.t)(),t=null==e?void 0:e.uuid,n=(0,d.useQueryClient)();return(0,u.Ne)(e=>"/api/organizations/".concat(null!=t?t:"","/chat_conversations/").concat(e),"DELETE",(e,t)=>{if(!t)return[];let n=t.findIndex(t=>t.uuid===e);if(!(n>-1))return t;{let e=[...t];return e.splice(n,1),e}},{enabled:!!t,queryKey:[l.tv,{orgUUID:t}],onSuccess:async(e,r)=>{await n.invalidateQueries({queryKey:[l.I8,{orgUUID:t},{uuid:r}]}),await L(n,t)}})},w=e=>{let{activeOrganization:t}=(0,a.t)(),n=null==t?void 0:t.uuid,r=(0,d.useQueryClient)();return(0,u.uC)("/api/organizations/".concat(n,"/chat_conversations/delete_many"),"POST",{onSuccess:async t=>{await L(r,n),e&&e(t)}})},q=()=>{let{activeOrganization:e}=(0,a.t)(),t=null==e?void 0:e.uuid,n=null==e?void 0:e.capabilities.includes("raven");return(0,u.WE)("/api/organizations/".concat(t,"/shares"),{queryKey:[l.PB,{orgUUID:t}],enabled:!!t&&n,staleTime:3e5})},P=e=>{let{activeOrganization:t}=(0,a.t)(),n=null==t?void 0:t.uuid;return(0,u.WE)("/api/organizations/".concat(n,"/chat_conversations/").concat(e,"/latest"),{enabled:!!n&&!!e,queryKey:[l.Gj,{orgUUID:n,conversationUUID:e}],staleTime:0,meta:{noToast:!0}},e=>{let{snapshot:t,shareable:n,disabled_reason:r}=e;return{shareable:n,disabled_reason:r,snapshot:t?{...t,chat_messages:t.chat_messages.map(e=>(0,_.Dk)(e))}:null}})},b=e=>{let{activeOrganization:t}=(0,a.t)(),n=null==t?void 0:t.uuid;return(0,u.WE)("/api/organizations/".concat(n,"/chat_snapshots/").concat(e,"?rendering_mode=messages&render_all_tools=true"),{retry:!1,refetchInterval:!1,enabled:!!e,staleTime:0,queryKey:[l.ld,{orgUUID:n,snapshotUUID:e}]},e=>({...e,chat_messages:e.chat_messages.map(e=>(0,_.Dk)(e))}))},S=e=>{let{activeOrganization:t}=(0,a.t)(),n=null==t?void 0:t.uuid,r=(0,d.useQueryClient)();return(0,u.uC)("/api/organizations/".concat(n,"/chat_conversations/").concat(e,"/share"),"POST",{onSuccess:()=>{r.invalidateQueries({queryKey:[l.Gj,{orgUUID:n,conversationUUID:e}]}),r.invalidateQueries({queryKey:[l.PB,{orgUUID:n}]}),r.invalidateQueries({queryKey:[l.VH,{orgUUID:n}]})}})},D=(e,t)=>{let{activeOrganization:n}=(0,a.t)(),r=null==n?void 0:n.uuid,i=(0,d.useQueryClient)();return(0,u.uC)("/api/organizations/".concat(r,"/share/").concat(t),"DELETE",{enabled:!!r&&!!t,meta:{errorMessage:"There was an error while trying to unshare the conversation. Please try again."},onSuccess:()=>{i.invalidateQueries({queryKey:[l.Gj,{orgUUID:r,conversationUUID:e}]}),i.invalidateQueries({queryKey:[l.PB,{orgUUID:r}]}),i.invalidateQueries({queryKey:[l.VH,{orgUUID:r}]})}})},B=e=>{let{activeOrganization:t}=(0,a.t)(),n=null==t?void 0:t.uuid;return(0,u.WE)("/api/organizations/".concat(n,"/artifact-versions/").concat(e),{retry:!1,refetchInterval:!1,enabled:!!e,staleTime:0,queryKey:[l.qB,{artifactVersionUUID:e}]})},E=function(e,t,n){var o,s,c;let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{track:f}=(0,r.z$)(),y=null!==(s=null===(o=(0,i.T)())||void 0===o?void 0:o.preview_feature_uses_artifacts)&&void 0!==s&&s,{activeOrganization:g}=(0,a.t)(),p=null==g?void 0:g.uuid,_=(0,d.useQueryClient)(),h=[l.I8,{orgUUID:p},{uuid:e}];return(0,u.uC)("/api/organizations/".concat(null!=p?p:"","/chat_conversations/").concat(e,"/chat_messages/").concat(null!==(c=t.uuid)&&void 0!==c?c:"","/chat_feedback"),t.chat_feedback?"PUT":"POST",{enabled:!!p,meta:{errorMessage:"We could not save your feedback. Please try again later."},...v,onSuccess(){for(var r,u,a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];f({event_key:"claudeai.conversation.feedback.sent",message_uuid:t.uuid,conversation_uuid:e,artifacts_enabled:y,conversationHasArtifacts:n,type:null===(r=t.chat_feedback)||void 0===r?void 0:r.type}),_.invalidateQueries({queryKey:h}),null===(u=v.onSuccess)||void 0===u||u.call(v,...i)}})},z=()=>{let{activeOrganization:e}=(0,a.t)(),t=null==e?void 0:e.uuid;return(0,u.uC)("/api/organizations/".concat(null!=t?t:"","/hfi/store_preference"),"POST",{enabled:!!t,meta:{errorMessage:"We could not save your feedback. Please try again later."}})},j=()=>{let e=(0,d.useQueryClient)(),{activeOrganization:t}=(0,a.t)(),n=null==t?void 0:t.uuid;return(0,p.useCallback)((t,r)=>{t&&(e.setQueryData([l.I8,{orgUUID:n},{uuid:t}],e=>e&&{...e,...r}),e.setQueriesData({queryKey:[l.tv,{orgUUID:n}]},e=>null==e?void 0:e.map(e=>e.uuid!==t?e:{...e,...r})))},[n,e])},x=e=>{let t=(0,d.useQueryClient)(),{activeOrganization:n}=(0,a.t)(),r=null==n?void 0:n.uuid,i=j();return(0,u.uC)("/api/organizations/".concat(r,"/chat_conversations/").concat(e),"PUT",{onMutate:n=>{var u;let{name:a}=n,o=t.getQueryData([l.I8,{orgUUID:r},{uuid:e}]);return i(e,{name:a}),{oldTitle:null!==(u=null==o?void 0:o.name)&&void 0!==u?u:""}},onError(t,n,r){r&&i(e,{name:r.oldTitle})}})},I=e=>{let t=j(),{activeOrganization:n}=(0,a.t)();return(0,u.uC)("/api/organizations/".concat(null==n?void 0:n.uuid,"/chat_conversations/").concat(e,"/title"),"POST",{onSuccess(n){let{title:r}=n;t(e,{name:null!=r?r:""})},meta:{noToast:!0}})};function O(e){var t,n;let r=(0,o.K)(e);return r+" "+e.attachments.map(e=>e.extracted_content).join(" ")+" "+((null===(t=e.content)||void 0===t?void 0:t.filter(e=>"tool_use"===e.type).map(e=>e.input?JSON.stringify(e.input):e.partial_json||"").join(" "))||"")+" "+((null===(n=e.content)||void 0===n?void 0:n.filter(e=>"tool_result"===e.type).flatMap(e=>e.content.filter(e=>"text"===e.type).map(e=>e.text)).join(" "))||"")}let k=e=>{let{activeOrganization:t}=(0,a.t)(),n=null==t?void 0:t.uuid;return(0,u.uC)("/api/organizations/".concat(n,"/chat_conversations/").concat(e,"/stop_response"),"POST")},M=()=>{let{activeOrganization:e}=(0,a.t)(),t=null==e?void 0:e.uuid;return(0,u.uC)(e=>{let{conversation_uuid:n}=e;return"/api/organizations/".concat(t,"/chat_conversations/").concat(n,"/tool_result")},"POST",{enabled:!!t,meta:{errorMessage:"We could not record the tool result. Please try again later."},transformVariables:e=>{let{conversation_uuid:t,...n}=e;return n}})},W=e=>{let{activeOrganization:t}=(0,a.t)(),n=null==t?void 0:t.uuid;return(0,u.uC)("/api/organizations/".concat(n,"/chat_conversations/").concat(e,"/current_leaf_message_uuid"),"PUT")},L=async(e,t)=>{await e.invalidateQueries({queryKey:[l.tv,{orgUUID:t}]})},R=e=>{let{activeOrganization:t}=(0,a.t)(),n=(0,d.useQueryClient)(),r=null==t?void 0:t.uuid;return(0,u.Ne)("/api/organizations/".concat(r,"/chat_conversations/").concat(e,"?rendering_mode=raw"),"PUT",(e,t)=>t?{...t,...e}:void 0,{onSuccess:()=>{L(n,r)},queryKey:[l.I8,{orgUUID:r},{uuid:e}]})},$=()=>{let{data:e,isLoading:t}=C();return{data:null==e?void 0:e.filter(e=>e.is_starred),isLoading:t}}},52212:function(e,t,n){n.d(t,{Dk:function(){return d},FC:function(){return i},Gg:function(){return s},HX:function(){return y},QC:function(){return l},fX:function(){return f},kX:function(){return p},mj:function(){return _},vv:function(){return g},w$:function(){return c},wZ:function(){return o}});var r=n(13623),u=n(57713),a=n.n(u);let i="new-assistant-message-uuid",o="new-human-message-uuid",l="00000000-0000-4000-8000-000000000000";function s(e,t){let n=e.get(t);if(void 0===n){let e=Error("Key not found: ".concat(t));throw(0,r.Tb)(e),e}return n}let c=(e,t)=>{let n=null!=t?t:e.current_leaf_message_uuid;if(!n)return e;for(;n!==l;){var r;let t=s(e.parentByChildUuid,n),u=null===(r=s(e.childrenByParentUuid,t))||void 0===r?void 0:r.indexOf(n);e.selectedChildByUuid.set(t,u),n=t}return{...e,current_leaf_message_uuid:t}},d=e=>e.content?e:{...e,content:[{type:"text",text:e.text||"",citations:[]}]},v=e=>{var t,n,r;let u=new Map,a=new Map,i=new Map,o=new Map,s=new Map;if(0===e.chat_messages.length)return{messageByUuid:a,parentByChildUuid:i,childrenByParentUuid:o,selectedChildByUuid:s};let c=e.chat_messages.map(d);for(let e of c)u.set(e.index,e),a.set(e.uuid,e);for(let e of c){let t=e.parent_message_uuid;if(!t){let r=e.index-1;for(;!t&&r>=0;)t=null===(n=u.get(r))||void 0===n?void 0:n.uuid,r--}t=null!=t?t:l,i.set(e.uuid,t),o.set(t,(null!==(r=o.get(t))&&void 0!==r?r:[]).concat(e.uuid)),s.set(t,0)}if(!(null===(t=o.get(l))||void 0===t?void 0:t[0]))throw Error("No root message found");return{chat_messages:c,messageByUuid:a,parentByChildUuid:i,childrenByParentUuid:o,selectedChildByUuid:s}},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Set;for(let t of e.chat_messages)"assistant"===t.sender&&t.parent_message_uuid&&n.add(t.parent_message_uuid);let r=e.chat_messages.filter(e=>"assistant"===e.sender||n.has(e.uuid)||void 0===e.parent_message_uuid||t),u={...e,chat_messages:r},a={...u,...v(u)};return a.current_leaf_message_uuid||c(a),c(a,u.current_leaf_message_uuid)},y=e=>{let t=Array.from(e.messageByUuid.values()).map(e=>e.index);return 0===t.length?-1:Math.max(...t)},g=(e,t)=>{for(let r of(e.chat_messages=e.chat_messages.concat(t),t)){var n;if(!r.parent_message_uuid)throw Error("Parent UUID required");let t=r.parent_message_uuid;e.messageByUuid.set(r.uuid,r),e.parentByChildUuid.set(r.uuid,t);let u=null!==(n=e.childrenByParentUuid.get(t))&&void 0!==n?n:[];u.push(r.uuid),e.childrenByParentUuid.set(t,u),e.selectedChildByUuid.set(t,u.length-1)}return c(e,t[t.length-1].uuid)},p=(e,t)=>{let n=[],r=null!=t?t:l;for(;e.childrenByParentUuid.has(r);){let t=s(e.childrenByParentUuid,r);if(0===t.length)break;let u=s(e.selectedChildByUuid,r),a=s(e.messageByUuid,t[u]);n.push({...a,parent_message_uuid:r,nOptions:t.length,selectedOption:u}),r=a.uuid}return n};function _(e,t,n){var r;let u=s(e.parentByChildUuid,t.uuid),i=s(e.childrenByParentUuid,u),o=a()((null!==(r=t.selectedOption)&&void 0!==r?r:0)+n,0,i.length-1);e.selectedChildByUuid.set(u,o);let l=p(e,u);return c(e,l[l.length-1].uuid)}},17299:function(e,t,n){n.d(t,{I:function(){return o},T:function(){return i}});var r=n(27573),u=n(7653);let a=(0,u.createContext)(null),i=()=>{let e=(0,u.useContext)(a);return void 0===e?null:e},o=e=>{let{children:t,settings:n}=e;return(0,r.jsx)(a.Provider,{value:n,children:t})}},92068:function(e,t,n){n.d(t,{K:function(){return r}});let r=e=>{let t="";if(e.content)for(let n of e.content)"text"===n.type&&(t+=n.text);return t}},47859:function(e,t,n){n.d(t,{B:function(){return u}});var r=n(7653);function u(e){let t=JSON.stringify(e);return(0,r.useMemo)(()=>e,[t])}},71994:function(e,t,n){n.d(t,{H:function(){return r}});let r=()=>void 0===crypto.randomUUID?"".concat(1e7,"-",1e3,"-",4e3,"-",8e3,"-",1e11).replace(/[018]/g,e=>{let t=parseInt(e);return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}):crypto.randomUUID()}}]);